#!/usr/bin/env python
# compile-hello.protocol

import protos

import subprocess as sub
import os

# Set configuration variables
dir  = protos.var('hello-dir',os.path.abspath('hello_dir'))
prog = protos.var('hello-prog',os.path.join(dir,'hello'))
src  = os.path.join(dir,'hello.c')

# Compile the program
os.chdir(dir)
sub.call(['gcc','-o',prog,src])

# Cache the program binary
protos.cache(prog)
